eval(decodeURIComponent('%76%61%72%20%63%6f%6e%66%69%67%20%3d%20%7b%20%61%70%69%4b%65%79%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%34%31%25%34%39%25%37%61%25%36%31%25%35%33%25%37%39%25%34%31%25%35%36%25%37%37%25%37%38%25%34%36%25%35%66%25%33%37%25%35%39%25%37%61%25%34%62%25%33%39%25%37%35%25%36%36%25%36%65%25%37%32%25%37%33%25%34%33%25%35%38%25%36%64%25%33%33%25%37%39%25%35%35%25%37%36%25%33%32%25%34%37%25%37%39%25%34%38%25%33%35%25%36%61%25%36%35%25%37%39%25%33%33%25%34%35%25%32%32%27%29%29%2c%20%61%75%74%68%44%6f%6d%61%69%6e%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%37%33%25%36%31%25%36%39%25%36%37%25%36%35%25%32%64%25%37%30%25%36%38%25%36%66%25%37%34%25%36%66%25%32%64%25%36%36%25%33%38%25%36%36%25%36%31%25%33%35%25%32%65%25%36%36%25%36%39%25%37%32%25%36%35%25%36%32%25%36%31%25%37%33%25%36%35%25%36%31%25%37%30%25%37%30%25%32%65%25%36%33%25%36%66%25%36%64%25%32%32%27%29%29%2c%20%64%61%74%61%62%61%73%65%55%52%4c%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%36%38%25%37%34%25%37%34%25%37%30%25%37%33%25%33%61%25%32%66%25%32%66%25%37%33%25%36%31%25%36%39%25%36%37%25%36%35%25%32%64%25%37%30%25%36%38%25%36%66%25%37%34%25%36%66%25%32%64%25%36%36%25%33%38%25%36%36%25%36%31%25%33%35%25%32%65%25%36%36%25%36%39%25%37%32%25%36%35%25%36%32%25%36%31%25%37%33%25%36%35%25%36%39%25%36%66%25%32%65%25%36%33%25%36%66%25%36%64%25%32%32%27%29%29%2c%20%70%72%6f%6a%65%63%74%49%64%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%37%33%25%36%31%25%36%39%25%36%37%25%36%35%25%32%64%25%37%30%25%36%38%25%36%66%25%37%34%25%36%66%25%32%64%25%36%36%25%33%38%25%36%36%25%36%31%25%33%35%25%32%32%27%29%29%2c%20%73%74%6f%72%61%67%65%42%75%63%6b%65%74%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%37%33%25%36%31%25%36%39%25%36%37%25%36%35%25%32%64%25%37%30%25%36%38%25%36%66%25%37%34%25%36%66%25%32%64%25%36%36%25%33%38%25%36%36%25%36%31%25%33%35%25%32%65%25%36%31%25%37%30%25%37%30%25%37%33%25%37%30%25%36%66%25%37%34%25%32%65%25%36%33%25%36%66%25%36%64%25%32%32%27%29%29%2c%20%6d%65%73%73%61%67%69%6e%67%53%65%6e%64%65%72%49%64%3a%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%33%38%25%33%39%25%33%37%25%33%36%25%33%39%25%33%35%25%33%30%25%33%38%25%33%35%25%33%30%25%33%32%25%33%38%25%32%32%27%29%29%20%7d%3b%20%66%69%72%65%62%61%73%65%2e%69%6e%69%74%69%61%6c%69%7a%65%41%70%70%28%63%6f%6e%66%69%67%29%3b%20%66%69%72%65%62%61%73%65%2e%61%75%74%68%28%29%2e%6f%6e%41%75%74%68%53%74%61%74%65%43%68%61%6e%67%65%64%28%28%75%73%65%72%29%20%3d%3e%20%7b%69%66%20%28%75%73%65%72%29%20%7b%20%77%69%6e%64%6f%77%2e%6c%6f%63%61%74%69%6f%6e%20%3d%20%65%76%61%6c%28%64%65%63%6f%64%65%55%52%49%43%6f%6d%70%6f%6e%65%6e%74%28%27%25%32%32%25%36%31%25%36%34%25%36%64%25%36%39%25%36%65%25%32%32%27%29%29%3b%7d%7d%29%3b%20'));
"use strict";
jQuery(document).ready(function( $ ) {
	document.getElementById('loader').style.display = "none";
	document.getElementById('body').style.display = "block";


	$('.input100').each(function() {
		$(this).on('blur', function() {
			if ($(this).val().trim() != "") {
				$(this).addClass('has-val');
			} else {
				$(this).removeClass('has-val');
			}
		})
	})

	var input = $('.validate-input .input100');
	$('.login100-form-btn').on('click', function() {
		var check = true;
		for (var i = 0; i < input.length; i++) {
			if (validate(input[i]) == false) {
				showValidate(input[i]);
				check = false;
			}
		}
		//Sign User in
		if (check) {
			document.getElementById('body').style.display = "none";
			document.getElementById('loader').style.display = "block";
			var username = $('#username').val().toLowerCase();
			var password = $('#password').val();
			var db = firebase.firestore();
			var docRef = db.collection("users").doc(username);
			docRef.get().then((doc) => {
				
				if (doc.exists) {
			
					var email = doc.data().email;
					firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).then(() => {
						firebase.auth().signInWithEmailAndPassword(email, password).then(() => {
							$('#password').val('');
							$('#email').val('');
							window.location = "admin";
						}).catch((error) => {
							if (error == 'Error: The password is invalid or the user does not have a password.') {
								document.getElementById('body').style.display = "block";
								document.getElementById('loader').style.display = "none";
								$('#password').val('');
								return alert('Incorrect password');;
							} else {
								console.log(error);
					
								$('#password').val('');
								return alert('Error!');;
							}
						});
					}).catch((err) => {
						console.log(err);
					});
				} else {
					document.getElementById('loader').style.display = "none";
					document.getElementById('body').style.display = "block";				
					$('#password').val('');
					return alert('Username Does not exist!');
				}
			}).catch((error) => {
				alert('Notify Adrian. Error: ', error);
			});
		}
	});
	$('.validate-form .input100').each(function() {
		$(this).focus(function() {
			hideValidate(this);
		});
	});

	function validate(input) {
		if ($(input).val().trim() == '') {
			return false;
		}
	}

	function showValidate(input) {
		var thisAlert = $(input).parent();
		$(thisAlert).addClass('alert-validate');
	}

	function hideValidate(input) {
		var thisAlert = $(input).parent();
		$(thisAlert).removeClass('alert-validate');
	}
	/*==================================================================
	[ Show pass ]*/
	var showPass = 0;
	$('.btn-show-pass').on('click', function() {
		if (showPass == 0) {
			$(this).next('input').attr('type', 'text');
			$(this).find('i').removeClass('zmdi-eye');
			$(this).find('i').addClass('zmdi-eye-off');
			showPass = 1;
		} else {
			$(this).next('input').attr('type', 'password');
			$(this).find('i').addClass('zmdi-eye');
			$(this).find('i').removeClass('zmdi-eye-off');
			showPass = 0;
		}
	});
});
